{
  "$schema": "https://struere.dev/schemas/entity-type/v1.json",
  "name": "Guardian",
  "slug": "guardian",
  "description": "A parent or guardian responsible for a student",
  "schema": {
    "type": "object",
    "properties": {
      "firstName": {
        "type": "string",
        "minLength": 1,
        "maxLength": 100,
        "description": "Guardian's first name"
      },
      "lastName": {
        "type": "string",
        "minLength": 1,
        "maxLength": 100,
        "description": "Guardian's last name"
      },
      "email": {
        "type": "string",
        "format": "email",
        "description": "Guardian's email address"
      },
      "phone": {
        "type": "string",
        "pattern": "^\\+?[1-9]\\d{1,14}$",
        "description": "Guardian's phone number in E.164 format"
      },
      "relationship": {
        "type": "string",
        "enum": ["mother", "father", "stepmother", "stepfather", "grandmother", "grandfather", "aunt", "uncle", "legal_guardian", "other"],
        "description": "Relationship to the student"
      }
    },
    "required": ["firstName", "lastName", "email", "relationship"]
  },
  "statuses": {
    "values": ["active", "inactive"],
    "default": "active",
    "transitions": {
      "active": ["inactive"],
      "inactive": ["active"]
    }
  },
  "indexMapping": {
    "idx_0": "firstName",
    "idx_1": "lastName",
    "idx_2": "email"
  },
  "searchFields": ["firstName", "lastName", "email"],
  "displayConfig": {
    "titleField": ["firstName", "lastName"],
    "subtitleField": "relationship",
    "listFields": ["firstName", "lastName", "email", "phone", "relationship"],
    "detailSections": [
      {
        "title": "Contact Information",
        "fields": ["email", "phone"]
      },
      {
        "title": "Relationship",
        "fields": ["relationship"]
      }
    ]
  }
}
