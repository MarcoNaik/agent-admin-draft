{
  "$schema": "https://struere.dev/schemas/entity-type/v1.json",
  "name": "Teacher",
  "slug": "teacher",
  "description": "A tutor or teacher providing tutoring services",
  "schema": {
    "type": "object",
    "properties": {
      "firstName": {
        "type": "string",
        "minLength": 1,
        "maxLength": 100,
        "description": "Teacher's first name"
      },
      "lastName": {
        "type": "string",
        "minLength": 1,
        "maxLength": 100,
        "description": "Teacher's last name"
      },
      "email": {
        "type": "string",
        "format": "email",
        "description": "Teacher's email address"
      },
      "subjects": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "minItems": 1,
        "description": "List of subjects the teacher can teach"
      },
      "hourlyRate": {
        "type": "number",
        "minimum": 0,
        "description": "Teacher's hourly rate in the organization's default currency"
      },
      "availability": {
        "type": "object",
        "properties": {
          "monday": { "$ref": "#/$defs/dayAvailability" },
          "tuesday": { "$ref": "#/$defs/dayAvailability" },
          "wednesday": { "$ref": "#/$defs/dayAvailability" },
          "thursday": { "$ref": "#/$defs/dayAvailability" },
          "friday": { "$ref": "#/$defs/dayAvailability" },
          "saturday": { "$ref": "#/$defs/dayAvailability" },
          "sunday": { "$ref": "#/$defs/dayAvailability" }
        },
        "description": "Weekly availability schedule"
      }
    },
    "$defs": {
      "dayAvailability": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "start": {
              "type": "string",
              "pattern": "^([01]\\d|2[0-3]):([0-5]\\d)$",
              "description": "Start time in HH:MM format"
            },
            "end": {
              "type": "string",
              "pattern": "^([01]\\d|2[0-3]):([0-5]\\d)$",
              "description": "End time in HH:MM format"
            }
          },
          "required": ["start", "end"]
        }
      }
    },
    "required": ["firstName", "lastName", "email", "subjects", "hourlyRate"]
  },
  "statuses": {
    "values": ["available", "unavailable", "on_leave"],
    "default": "available",
    "transitions": {
      "available": ["unavailable", "on_leave"],
      "unavailable": ["available", "on_leave"],
      "on_leave": ["available", "unavailable"]
    }
  },
  "indexMapping": {
    "idx_0": "firstName",
    "idx_1": "lastName",
    "idx_2": "email",
    "idx_num_0": "hourlyRate"
  },
  "searchFields": ["firstName", "lastName", "email"],
  "displayConfig": {
    "titleField": ["firstName", "lastName"],
    "subtitleField": "subjects",
    "listFields": ["firstName", "lastName", "email", "subjects", "hourlyRate"],
    "detailSections": [
      {
        "title": "Contact Information",
        "fields": ["email"]
      },
      {
        "title": "Teaching Details",
        "fields": ["subjects", "hourlyRate"]
      },
      {
        "title": "Availability",
        "fields": ["availability"]
      }
    ]
  }
}
